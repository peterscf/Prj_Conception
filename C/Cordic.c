/*test qui vise a regler la taille du bus d'entrée ainsi que le nombre d'iteration du projet ZIGBEE de 2e année*/
//Author Floriant PETERSCHMITT
//version 1.0
//date 08/04/2017

////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include<stdio.h>

//declaration des fonctions utiliser dans le programme


void CalculN(int* x, int* y,int* z,float atan);
//Main
int main (void){
//Variable locale 
float atan[]={45,26.56505,14.03624,7.12501,3.57633,1.78991,0.89517,0.44761};
int i;
int x,y,z;
int N=8;
x=0.342;
y=0.939;
z=45;
	for (i=0;i<N-1;i++){
		CalculN(&x,&y,&z,atan[i]);
	}
//	fprintf("angle de sorti:%ls",z);

//Programme

return 0;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Fontion de calcul a i
void CalculN(int* x, int* y,int* z,float atan){

	int x_n=*x;
	int y_n=*y;
	int z_n=*z;
	int x_dec;
	int y_dec;	
	
	x_dec= x_n>>1;
	y_dec= y_n>>1;
	
	if (y_n > 0){
		*x=x_n-y_dec;							
		*y=y_n-x_dec;
		*z=z_n+atan;	
	}
	else if (y_n==0){

	}
	else{
		*x=x_n+y_dec;
		*y=y_n+x_dec;
		*z=z_n-atan;	
	}
}

//Fin programme
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////


